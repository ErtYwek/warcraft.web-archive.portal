/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(s,a,f){var d=s.requestAnimationFrame||s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||function(e){s.setTimeout(e,1e3/60)};var p=function(){var n={};var o=a.createElement("div").style;var t=function(){var e=["t","webkitT","MozT","msT","OT"],t,i=0,n=e.length;for(;i<n;i++){t=e[i]+"ransform";if(t in o)return e[i].substr(0,e[i].length-1)}return false}();function e(e){if(t===false)return false;if(t==="")return e;return t+e.charAt(0).toUpperCase()+e.substr(1)}n.getTime=Date.now||function e(){return(new Date).getTime()};n.extend=function(e,t){for(var i in t){e[i]=t[i]}};n.addEvent=function(e,t,i,n){e.addEventListener(t,i,!!n)};n.removeEvent=function(e,t,i,n){e.removeEventListener(t,i,!!n)};n.prefixPointerEvent=function(e){return s.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e};n.momentum=function(e,t,i,n,o,s){var a=e-t,r=f.abs(a)/i,l,u;s=s===undefined?6e-4:s;l=e+r*r/(2*s)*(a<0?-1:1);u=r/s;if(l<n){l=o?n-o/2.5*(r/8):n;a=f.abs(l-e);u=a/r}else if(l>0){l=o?o/2.5*(r/8):0;a=f.abs(e)+l;u=a/r}return{destination:f.round(l),duration:u}};var i=e("transform");n.extend(n,{hasTransform:i!==false,hasPerspective:e("perspective")in o,hasTouch:"ontouchstart"in s,hasPointer:s.PointerEvent||s.MSPointerEvent,hasTransition:e("transition")in o});n.isBadAndroid=/Android /.test(s.navigator.appVersion)&&!/Chrome\/\d/.test(s.navigator.appVersion);n.extend(n.style={},{transform:i,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")});n.hasClass=function(e,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(e.className)};n.addClass=function(e,t){if(n.hasClass(e,t)){return}var i=e.className.split(" ");i.push(t);e.className=i.join(" ")};n.removeClass=function(e,t){if(!n.hasClass(e,t)){return}var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(i," ")};n.offset=function(e){var t=-e.offsetLeft,i=-e.offsetTop;while(e=e.offsetParent){t-=e.offsetLeft;i-=e.offsetTop}return{left:t,top:i}};n.preventDefaultException=function(e,t){for(var i in t){if(t[i].test(e[i])){return true}}return false};n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return f.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e=e-1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){if((e/=1)<1/2.75){return 7.5625*e*e}else if(e<2/2.75){return 7.5625*(e-=1.5/2.75)*e+.75}else if(e<2.5/2.75){return 7.5625*(e-=2.25/2.75)*e+.9375}else{return 7.5625*(e-=2.625/2.75)*e+.984375}}},elastic:{style:"",fn:function(e){var t=.22,i=.4;if(e===0){return 0}if(e==1){return 1}return i*f.pow(2,-10*e)*f.sin((e-t/4)*(2*f.PI)/t)+1}}});n.tap=function(e,t){var i=a.createEvent("Event");i.initEvent(t,true,true);i.pageX=e.pageX;i.pageY=e.pageY;e.target.dispatchEvent(i)};n.click=function(e){var t=e.target,i;if(!/(SELECT|INPUT|TEXTAREA)/i.test(t.tagName)){i=a.createEvent("MouseEvents");i.initMouseEvent("click",true,true,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);i._constructed=true;t.dispatchEvent(i)}};return n}();function e(e,t){this.wrapper=typeof e=="string"?a.querySelector(e):e;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var i in t){this.options[i]=t[i]}this.translateZ=this.options.HWCompositing&&p.hasPerspective?" translateZ(0)":"";this.options.useTransition=p.hasTransition&&this.options.useTransition;this.options.useTransform=p.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?p.ease[this.options.bounceEasing]||p.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}e.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(e){if(p.eventType[e.type]!=1){if(e.button!==0){return}}if(!this.enabled||this.initiated&&p.eventType[e.type]!==this.initiated){return}if(this.options.preventDefault&&!p.isBadAndroid&&!p.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault()}var t=e.touches?e.touches[0]:e,i;this.initiated=p.eventType[e.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=p.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;i=this.getComputedPosition();this._translate(f.round(i.x),f.round(i.y));this._execEvent("scrollEnd")}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=t.pageX;this.pointY=t.pageY;this._execEvent("beforeScrollStart")},_move:function(e){if(!this.enabled||p.eventType[e.type]!==this.initiated){return}if(this.options.preventDefault){e.preventDefault()}var t=e.touches?e.touches[0]:e,i=t.pageX-this.pointX,n=t.pageY-this.pointY,o=p.getTime(),s,a,r,l;this.pointX=t.pageX;this.pointY=t.pageY;this.distX+=i;this.distY+=n;r=f.abs(this.distX);l=f.abs(this.distY);if(o-this.endTime>300&&(r<10&&l<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(r>l+this.options.directionLockThreshold){this.directionLocked="h"}else if(l>=r+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){e.preventDefault()}else if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}n=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){e.preventDefault()}else if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}i=0}i=this.hasHorizontalScroll?i:0;n=this.hasVerticalScroll?n:0;s=this.x+i;a=this.y+n;if(s>0||s<this.maxScrollX){s=this.options.bounce?this.x+i/3:s>0?0:this.maxScrollX}if(a>0||a<this.maxScrollY){a=this.options.bounce?this.y+n/3:a>0?0:this.maxScrollY}this.directionX=i>0?-1:i<0?1:0;this.directionY=n>0?-1:n<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(s,a);if(o-this.startTime>300){this.startTime=o;this.startX=this.x;this.startY=this.y}},_end:function(e){if(!this.enabled||p.eventType[e.type]!==this.initiated){return}if(this.options.preventDefault&&!p.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault()}var t=e.changedTouches?e.changedTouches[0]:e,i,n,o=p.getTime()-this.startTime,s=f.round(this.x),a=f.round(this.y),r=f.abs(s-this.startX),l=f.abs(a-this.startY),u=0,c="";this.isInTransition=0;this.initiated=0;this.endTime=p.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(s,a);if(!this.moved){if(this.options.tap){p.tap(e,this.options.tap)}if(this.options.click){p.click(e)}this._execEvent("scrollCancel");return}if(this._events.flick&&o<200&&r<100&&l<100){this._execEvent("flick");return}if(this.options.momentum&&o<300){i=this.hasHorizontalScroll?p.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0};n=this.hasVerticalScroll?p.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0};s=i.destination;a=n.destination;u=f.max(i.duration,n.duration);this.isInTransition=1}if(s!=this.x||a!=this.y){if(s>0||s<this.maxScrollX||a>0||a<this.maxScrollY){c=p.ease.quadratic}this.scrollTo(s,a,u,c);return}this._execEvent("scrollEnd")},_resize:function(){var e=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,i=this.y;e=e||0;if(!this.hasHorizontalScroll||this.x>0){t=0}else if(this.x<this.maxScrollX){t=this.maxScrollX}if(!this.hasVerticalScroll||this.y>0){i=0}else if(this.y<this.maxScrollY){i=this.maxScrollY}if(t==this.x&&i==this.y){return false}this.scrollTo(t,i,e,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var e=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=p.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(e,t){if(!this._events[e]){this._events[e]=[]}this._events[e].push(t)},off:function(e,t){if(!this._events[e]){return}var i=this._events[e].indexOf(t);if(i>-1){this._events[e].splice(i,1)}},_execEvent:function(e){if(!this._events[e]){return}var t=0,i=this._events[e].length;if(!i){return}for(;t<i;t++){this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,i,n){e=this.x+e;t=this.y+t;i=i||0;this.scrollTo(e,t,i,n)},scrollTo:function(e,t,i,n){n=n||p.ease.circular;this.isInTransition=this.options.useTransition&&i>0;if(!i||this.options.useTransition&&n.style){this._transitionTimingFunction(n.style);this._transitionTime(i);this._translate(e,t)}else{this._animate(e,t,i,n.fn)}},scrollToElement:function(e,t,i,n,o){e=e.nodeType?e:this.scroller.querySelector(e);if(!e){return}var s=p.offset(e);s.left-=this.wrapperOffset.left;s.top-=this.wrapperOffset.top;if(i===true){i=f.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)}if(n===true){n=f.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)}s.left-=i||0;s.top-=n||0;s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left;s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top;t=t===undefined||t===null||t==="auto"?f.max(f.abs(this.x-s.left),f.abs(this.y-s.top)):t;this.scrollTo(s.left,s.top,t,o)},_transitionTime:function(e){e=e||0;this.scrollerStyle[p.style.transitionDuration]=e+"ms";if(!e&&p.isBadAndroid){this.scrollerStyle[p.style.transitionDuration]="0.001s"}},_transitionTimingFunction:function(e){this.scrollerStyle[p.style.transitionTimingFunction]=e},_translate:function(e,t){if(this.options.useTransform){this.scrollerStyle[p.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ}else{e=f.round(e);t=f.round(t);this.scrollerStyle.left=e+"px";this.scrollerStyle.top=t+"px"}this.x=e;this.y=t},_initEvents:function(e){var t=e?p.removeEvent:p.addEvent,i=this.options.bindToWrapper?this.wrapper:s;t(s,"orientationchange",this);t(s,"resize",this);if(this.options.click){t(this.wrapper,"click",this,true)}if(!this.options.disableMouse){t(this.wrapper,"mousedown",this);t(i,"mousemove",this);t(i,"mousecancel",this);t(i,"mouseup",this)}if(p.hasPointer&&!this.options.disablePointer){t(this.wrapper,p.prefixPointerEvent("pointerdown"),this);t(i,p.prefixPointerEvent("pointermove"),this);t(i,p.prefixPointerEvent("pointercancel"),this);t(i,p.prefixPointerEvent("pointerup"),this)}if(p.hasTouch&&!this.options.disableTouch){t(this.wrapper,"touchstart",this);t(i,"touchmove",this);t(i,"touchcancel",this);t(i,"touchend",this)}t(this.scroller,"transitionend",this);t(this.scroller,"webkitTransitionEnd",this);t(this.scroller,"oTransitionEnd",this);t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e=s.getComputedStyle(this.scroller,null),t,i;if(this.options.useTransform){e=e[p.style.transform].split(")")[0].split(", ");t=+(e[12]||e[4]);i=+(e[13]||e[5])}else{t=+e.left.replace(/[^-\d.]/g,"");i=+e.top.replace(/[^-\d.]/g,"")}return{x:t,y:i}},_animate:function(o,s,a,r){var l=this,u=this.x,c=this.y,f=p.getTime(),m=f+a;function h(){var e=p.getTime(),t,i,n;if(e>=m){l.isAnimating=false;l._translate(o,s);if(!l.resetPosition(l.options.bounceTime)){l._execEvent("scrollEnd")}return}e=(e-f)/a;n=r(e);t=(o-u)*n+u;i=(s-c)*n+c;l._translate(t,i);if(l.isAnimating){d(h)}}this.isAnimating=true;h()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":if(!e._constructed){e.preventDefault();e.stopPropagation()}break}}};e.utils=p;if(typeof module!="undefined"&&module.exports){module.exports=e}else{s.IScroll=e}})(window,document,Math);var ZUL=new function(){var n={scriptLocation:function(){var e=document.getElementsByTagName("script");var t=e[e.length-1].src.split("?")[0];return t.split("/").slice(0,-1).join("/")+"/"}(),menuShowDelay:333,menuHideDelay:333};var y=false;var g={};var r={mobile:false,mobileScrollSetUp:false,mouseOver:false,iScroll:null,submenuCount:0,submenuTier:0,submenuTiers:[],timers:{menuExpand:null,menuExpandComplete:null,menuOut:null,menuOutPost:null,menuOverPost:null,mobileMenuToggle:null}};this.setOptions=function(e){if(typeof e!="object"){return}if(typeof y!="object"){y={}}for(var t in e){if(!e.hasOwnProperty(t))continue;y[t]=e[t]}o()};this.closeMobileMenu=function(){_()};this.addToMenu=function(e,t,i){if(!y.states){y.states={}}if(!y.states.universal){y.states.universal={}}if(!y.states.universal.content){y.states.universal.content=[]}if(e instanceof Array){y.states.universal.content=y.states.universal.content.concat(e)}else if(typeof e=="object"){y.states.universal.content.push(e)}ZUL.regenerateMenu(t,i)};this.regenerateMenu=function(e,t){_();if(typeof e!="boolean"||e){h(g.barInner)}if(g.mobileMenu&&(typeof t!="boolean"||t)){l(g.barMobile)}};this.setMobileMode=function(e){if(r.mobile!==Boolean(e)){x(e);return true}return false};this.init=function(e){if(typeof e=="object"){ZUL.setOptions(e)}t()};function o(){var e="zul-bar-stylesheet";if(!document.getElementById(e)){var t=n.scriptLocation+"zul.css";if(!y.hasOwnProperty("loadStylesSynchronously")||y.loadStylesSynchronously){if(/in/.test(document.readyState)){document.write('<link rel="stylesheet" type="text/css" href="'+t+'" id="'+e+'">');return}}var i=document.createElement("link");i.rel="stylesheet";i.type="text/css";i.href=t;i.id=e;document.getElementsByTagName("head")[0].appendChild(i)}o=function(){}}function t(){if(!document.body){setTimeout(t,5);return}if(g.bar){g.barMobile=null;g.bar.parentElement.removeChild(g.bar)}g.bar=document.createElement("div");g.bar.id=g.bar.className="zul-bar";g.bar.setAttribute("data-mobile","false");var e=false;if(typeof y.mobileLoadCheck=="function"){if(y.mobileLoadCheck()){e=true}}else if(y.mobileLoadCheck){e=true}x(e);g.barInner=document.createElement("div");g.barInner.id=g.barInner.className="zul-bar-inner";m(g.barInner);h(g.barInner);g.bar.appendChild(g.barInner);document.body.insertBefore(g.bar,document.body.firstChild);document.body.className+=" has-zul-bar"+(y.bodyIsRelative?" zul-bar-relative-to-body":"");i();S();if(typeof y.onCreateBar=="function"){y.onCreateBar()}}function i(){var e=false;switch(typeof y.mobileWidthCheck){case"function":e=y.mobileWidthCheck();break;case"number":e=q()<y.mobileWidthCheck;break;case"undefined":if(!y.mobileOverlapCheck){return}break;default:e=y.mobileWidthCheck}if(!e&&y.mobileOverlapCheck){if(document.getElementById("zul-bar-logo-cover").offsetWidth+document.getElementById("zul-bar-user").offsetWidth+10>q()){e=true}}x(e)}function s(){if(g.barMobile){return}g.barMobile=document.createElement("div");g.barMobile.id=g.barMobile.className="zul-bar-mobile";g.barMobile.className+=" zul-bar-mobile-top-menu";g.barMobile.setAttribute("data-tier","0");a(g.barMobile);e(g.barMobile);l(g.barMobile);g.bar.appendChild(g.barMobile);if(typeof y.onCreateMobileBar=="function"){y.onCreateMobileBar()}}function e(e){if(g.mobileBarContent){g.mobileBarContent.parentNode.removeChild(g.mobileBarContent);g.mobileBarContent=null}var t=function(){if(g.mobileBarContent){return}g.mobileBarContent=document.createElement("div");g.mobileBarContent.id=g.mobileBarContent.className="zul-bar-mobile-content"};var i=D();var n=W();if(n.mobileBarPre){t();M(g.mobileBarContent,n.mobileBarPre)}if(i.mobileBarPre){t();M(g.mobileBarContent,i.mobileBarPre,true)}if(n.mobileBarContent){t();M(g.mobileBarContent,n.mobileBarContent)}if(i.mobileBarPost){t();M(g.mobileBarContent,i.mobileBarPost,true)}if(n.mobileBarPost){t();M(g.mobileBarContent,n.mobileBarPost)}if(g.mobileBarContent){e.appendChild(g.mobileBarContent)}}function a(e){if(g.mobileMenuButton){g.mobileMenuButton.parentNode.removeChild(g.mobileMenuButton)}g.mobileMenuButton=document.createElement("div");g.mobileMenuButton.id=g.mobileMenuButton.className="zul-bar-mobile-menu-button";g.mobileMenuButtonLink=document.createElement("a");j(g.mobileMenuButtonLink,"click",I);g.mobileMenuButton.appendChild(g.mobileMenuButtonLink);e.appendChild(g.mobileMenuButton)}function l(e){if(g.mobileMenu){g.mobileMenu.parentNode.removeChild(g.mobileMenu)}g.mobileMenu=document.createElement("div");g.mobileMenu.id=g.mobileMenu.className="zul-bar-mobile-menu";g.mobileMenuList=u();d(g.mobileMenuList.firstChild);g.mobileMenu.appendChild(g.mobileMenuList);e.appendChild(g.mobileMenu);E()}function u(e,t){var i=document.createElement("div");i.className="zul-bar-mobile-menu-list-wrapper";i.id=i.className+(e?"-"+e:"");i.setAttribute("data-tier",t||0);i.style.left=R(t?1:0);var n=document.createElement("ul");n.className="zul-bar-mobile-menu-list";n.id=n.className+(e?"-"+e:"");i.appendChild(n);return i}function c(){var e=document.createElement("li");e.className="zul-bar-mobile-row";return e}function f(e){r.submenuCount++;var t=u(r.submenuCount,1);M(t.firstChild,e,true);g.mobileMenu.appendChild(t);w(true)}function m(e){if(g.logoWrapper){g.logoWrapper.parentNode.removeChild(g.logoWrapper)}g.logoWrapper=document.createElement("div");g.logoWrapper.id=g.logoWrapper.className="zul-bar-logo";g.fanbyteLogo=document.createElement("a");g.fanbyteLogo.id=g.fanbyteLogo.className="zul-bar-fanbyte-logo";g.fanbyteLogo.href="https://www.fanbyte.com/";g.fanbyteLogo.title="We make gaming better";g.logoWrapper.appendChild(g.fanbyteLogo);g.dropdownCover=document.createElement("div");g.dropdownCover.id=g.dropdownCover.className="zul-bar-logo-cover";g.logoWrapper.appendChild(g.dropdownCover);e.appendChild(g.logoWrapper)}function h(e){if(g.userArea){g.userArea.parentNode.removeChild(g.userArea)}g.userArea=document.createElement("div");g.userArea.id=g.userArea.className="zul-bar-user";var t=D();if(t.name){g.userArea.className+=" zul-bar-user-"+t.name}p(g.userArea,false);e.appendChild(g.userArea)}function d(e){p(e,true)}function p(e,t){var i=D();var n=W();M(e,n.pre,t);M(e,i.pre,t);M(e,n.content,t);M(e,i.post,t);M(e,n.post,t)}function b(e,t,i){var n=document.createElement("form");n.id="zul-bar-form-"+t.name;n.className="zul-bar-form "+n.className;if(typeof t.action=="function"){n.action=t.action(e,y,i,t)}else{n.action=t.action||"/"}if(typeof n.method=="function"){n.method=t.method(e,y,i,t)}else{n.method=t.method||"post"}for(var o=0,s;s=t.fields[o];o++){v(n,s,i,t)}e.appendChild(n)}function v(e,t,i,n){var o=false;var s=false;var a="input";var r={};switch(t.type){case"text":r.type="text";if(typeof t.label=="function"){r.placeholder=t.label(e,y,i,t)}else if(t.label){r.placeholder=t.label}else if(typeof t.placeholder=="function"){r.placeholder=t.placeholder(e,y,i,t)}else if(t.placeholder){r.placeholder=t.placeholder}if(typeof t.value=="function"){r.value=t.value(e,y,i,t)}else if(t.value){r.value=t.value}break;case"password":r.type="password";if(typeof t.label=="function"){r.placeholder=t.label(e,y,i,t)}else if(t.label){r.placeholder=t.label}else if(typeof t.placeholder=="function"){r.placeholder=t.placeholder(e,y,i,t)}else if(t.placeholder){r.placeholder=t.placeholder}if(typeof t.value=="function"){r.value=t.value(e,y,i,t)}else if(t.value){r.value=t.value}break;case"checkbox":r.type="checkbox";if(typeof t.label=="function"){s=t.label(e,y,i,t)}else{s=t.label}if(typeof t.checked=="function"){r.checked=t.value(e,y,i,t)}else if(t.checked){r.checked="checked"}break;case"hidden":a="hidden";if(typeof t.value=="function"){r.value=t.value(e,y,i,t)}else{r.value=t.value}break;case"button":a="button";if(typeof t.typeHTML=="function"){r.type=t.typeHTML(e,y,i,t)}else if(t.typeHTML){r.type=t.typeHTML}else{r.type="button"}if(typeof t.label=="function"){r.innerHTML=t.label(e,y,i,t)}else{r.innerHTML=t.label}break;case"link":return k(e,t,true,i);break;default:alert("Invalid element type passed to ZUL bar: "+t.type);return false}var l=["click","mouseover","mouseout","change","keyup","keydown","focus","blur"];var u=["name","innerHTML"].concat(l);for(var c=0,f;f=u[c];c++){if(t.hasOwnProperty(f)){if(["name","innerHTML"].indexOf(f)>-1&&typeof t[f]=="function"){r[f]=t[f](e,y,i,t)}else{r[f]=t[f]}}}r.id="zul-bar-form-"+n.name+"-"+t.name;r.className="zul-bar-form-"+t.type;if(typeof t.className=="function"){r.className+=" "+t.className(e,y,i,t)}else if(t.className){r.className+=" "+t.className}var m=document.createElement(a);for(var h in r){if(!r.hasOwnProperty(h)){continue}if(l.indexOf(h)>-1&&typeof r[h]=="function"){j(m,h,r[h])}else{m[h]=r[h]}}if(o){var d=document.createElement("label");d.id=d.className=r.id+"-prelabel";d.className="zul-bar-form-prelabel zul-bar-form-"+t.type+"-prelabel "+d.className;d.htmlFor=m.id;d.innerHTML=o;j(d,"mousedown",function(){return false});e.appendChild(d)}e.appendChild(m);if(s){var p=document.createElement("label");p.id=p.className=r.id+"-postlabel";p.className="zul-bar-form-postlabel zul-bar-form-"+t.type+"-postlabel "+p.className;p.htmlFor=m.id;p.innerHTML=s;j(p,"mousedown",function(){return false});e.appendChild(p)}return true}function T(e,t,i){var n=[];for(var o=0,s;s=t[o];o++){if(s.type=="concatenation"){var a=s.content(e,y,i);if(a){n=n.concat(a)}}else{n.push(s)}}return n}function M(e,t,i){if(!(t instanceof Array)||!t.length){return}t=T(e,t,i);for(var n=0,o;o=t[n];n++){if(typeof o.condition=="function"){if(!o.condition(e,y,i)){continue}}if(i){switch(o.type){case"link":var s=c();k(s,o,false,i);e.appendChild(s);break;case"form":var s=c();b(s,o,i);e.appendChild(s);break;case"custom":if(typeof o.custom=="function"){var s=c();o.custom(s,y,i);e.appendChild(s)}break;default:}}else{switch(o.type){case"link":k(e,o,false,i);break;case"form":b(e,o,i);break;case"custom":if(typeof o.custom=="function"){o.custom(e,y,i)}break;default:}}}}function k(e,t,i,n){var o=document.createElement("a");o.className="zul-bar-"+(n?"mobile":"user")+"-item-"+(i?"form-":"")+t.name;if(typeof t.id=="function"){var s=t.id(e,y,n,t);if(s){o.id=s}}else if(t.id){o.id=U(t.id)}if(typeof t.innerHTML=="function"){o.innerHTML=t.innerHTML(e,y,n,t)}else if(t.innerHTML){o.innerHTML=U(t.innerHTML)}else if(typeof t.text=="function"){o.appendChild(document.createTextNode(t.text(e,y,n,t)))}else if(t.text){o.appendChild(document.createTextNode(U(t.text)))}if(typeof t.href=="function"){var a=t.href(e,y,n,t);if(a){o.href=a}}else if(t.href){o.href=U(t.href)}if(typeof t.heading=="function"){if(t.heading(e,y,n,t)){o.className+=" zul-bar-"+(n?"mobile":"user")+"-heading"}}else if(t.heading){o.className+=" zul-bar-"+(n?"mobile":"user")+"-heading"}if(typeof y.mobileIconSpacing=="function"){if(y.mobileIconSpacing(e,y,n,t)){o.className+=" zul-bar-icon-spacing"}}else if(y.mobileIconSpacing){o.className+=" zul-bar-icon-spacing"}var r=false;if(t.checked){switch(typeof t.checked){case"function":if(t.checked(e,y,n,t)){o.className+=" zul-bar-checked";r=true}break;case"string":if(location.href.match(t.checked)){o.className+=" zul-bar-checked";r=true}break;default:o.className+=" zul-bar-checked";r=true}}if(!r){if(t.imageIcon){if(typeof t.imageIcon=="function"){t.imageIcon=t.imageIcon(e,y,n,t)}var l;if(typeof t.imageIcon!="object"){l=t.imageIcon}else if(!n&&t.imageIcon.desktop||!t.imageIcon.universal&&t.imageIcon.enlargeForMobile){l=t.imageIcon.desktop}else if(n&&t.imageIcon.mobile){l=t.imageIcon.mobile}else if(t.imageIcon.universal){l=t.imageIcon.universal}if(l){o.style.backgroundImage="url("+l+")";o.className+=" zul-bar-has-image-icon"}if(n&&t.imageIcon.enlargeForMobile){o.className+=" zul-bar-enlarge-image-icon"}}var u=false;if(typeof t.fontIcon=="function"){var c=t.fontIcon(e,y,n,t);if(c){u=c}}else if(t.fontIcon){u=t.fontIcon}if(u){o.className+=" zul-bar-has-fa";var f=document.createElement("i");f.className="fa fa-fw fa-"+u;o.insertBefore(f,o.firstChild)}}if(typeof t.className=="function"){var m=t.className(e,y,n,t);if(m){o.className+=" "+m}}else if(t.className){o.className+=" "+t.className}var h=false;for(var d=0,p;p=["click","mouseover","mouseout"][d];d++){if(t[p]){if(p=="tap"||n&&p=="click"&&(!t.hasOwnProperty("tap")||typeof t.tap=="boolean"&&t.tap)){j(o,"tap",function(e,t){A(this);setTimeout(function(){e.call(this,t)},1)}.bind(o,t[p]));h=true}else if(n&&p=="click"){j(o,p,function(e,t){A(this);setTimeout(function(){e.call(this,t)},1)}.bind(o,t[p]))}else{j(o,p,t[p])}}}if(n&&!h&&(!t.hasOwnProperty("tap")||typeof t.tap=="boolean"&&t.tap)){if(typeof t.href=="string"&&t.href.charAt(0)!="#"&&t.href.substring(0,11)!="javascript:"){j(o,"tap",function(e){var t=e.target;A(t);setTimeout(function(){window.location=t.href},1)});h=true}}if(h){o.className+=" has-tap-event"}e.appendChild(o);if(n&&t.menu&&t.menu.mobile){if(typeof t.menu.mobile=="function"){t.menu.mobile=t.menu.mobile()}var b;if(typeof t.mobileMenuText=="function"){b=t.mobileMenuText(g.mobileMenuBackTitleText,y,n,t)}else if(t.mobileMenuText){b=U(t.mobileMenuText)}else if(typeof t.innerHTML=="function"){b=t.innerHTML(g.mobileMenuBackTitleText,y,n,t)}else if(t.innerHTML){b=t.innerHTML}else if(typeof t.text=="function"){b=K(t.text(g.mobileMenuBackTitleText,y,n,t))}else if(t.text){b=K(t.text)}if(h){e.className+=" zul-mobile-menu-action-with-submenu";var v=document.createElement("a");v.className="zul-mobile-menu-submenu-arrow has-tap-event";j(v,"tap",X.bind(v,b,t.menu.mobile));e.appendChild(v)}else{e.className+=" zul-mobile-menu-has-submenu";o.className+=" has-tap-event";j(o,"tap",X.bind(o,b,t.menu.mobile))}}}function E(){if(g.mobileMenuBackRow){g.mobileMenuBackRow.parentNode.removeChild(g.mobileMenuBackRow)}g.mobileMenuBackRow=document.createElement("div");g.mobileMenuBackRow.id=g.mobileMenuBackRow.className="zul-bar-mobile-menu-back-row";g.mobileMenuBackButton=document.createElement("a");g.mobileMenuBackButton.innerHTML=y.mobileBackText||"Back";g.mobileMenuBackButton.id=g.mobileMenuBackButton.className="zul-bar-mobile-menu-back-button";g.mobileMenuBackButton.onclick=Y;g.mobileMenuBackRow.appendChild(g.mobileMenuBackButton);g.mobileMenuBackTitle=document.createElement("div");g.mobileMenuBackTitle.id=g.mobileMenuBackTitle.className="zul-bar-mobile-menu-back-title";g.mobileMenuBackTitleText=document.createElement("span");g.mobileMenuBackTitleText.id=g.mobileMenuBackTitleText.className="zul-bar-mobile-menu-back-title-text";g.mobileMenuBackTitle.appendChild(g.mobileMenuBackTitleText);g.mobileMenuBackRow.appendChild(g.mobileMenuBackTitle);if(y.mobileHeader){g.mobileMenuBackHeader=document.createElement("ul");g.mobileMenuBackHeader.id="zul-bar-mobile-menu-back-header";g.mobileMenuBackHeader.className=g.mobileMenuBackHeader.id+" zul-bar-mobile-menu-list";M(g.mobileMenuBackHeader,y.mobileHeader,true);g.mobileMenuBackRow.appendChild(g.mobileMenuBackHeader);g.barMobile.className+=" zul-bar-mobile-menu-has-mobile-header"}g.barMobile.appendChild(g.mobileMenuBackRow)}function x(e){if(e){s();r.mobile=true;g.bar.setAttribute("data-mobile","true");document.body.className+=" has-mobile-zul-bar";if(typeof y.mobileIncreasedSize=="function"){if(y.mobileIncreasedSize()){document.body.className+=" enlarge-mobile-zul-bar"}}else if(y.mobileIncreasedSize){document.body.className+=" enlarge-mobile-zul-bar"}}else{r.mobile=false;g.bar.setAttribute("data-mobile","false");document.body.className=document.body.className.replace(/ *has-mobile-zul-bar\b/g,"").replace(/ *enlarge-mobile-zul-bar\b/g,"")}}function N(e,t){var i;if(document.querySelectorAll){i=document.querySelectorAll((t||"#zul-bar-mobile-menu-list")+" .zul-bar-mobile-menu-active");if(i){for(var n=0,o;o=i[n];n++){o.className=o.className.replace(/ *zul-bar-mobile-menu-active\b/g,"")}}}else{i=(e||g.mobileMenuList).getElementsByTagName("a");if(i){for(var n=0,o;o=i[n];n++){if(o.className&&o.className.indexOf("zul-bar-mobile-menu-active")){o.className=o.className.replace(/ *zul-bar-mobile-menu-active\b/g,"")}}}}}function w(e){var t=e?-1:1;if(r.submenuTier+t>0){return false}L();r.submenuTier=r.submenuTier+t;if(!e){r.submenuTiers.pop()}B();g.barMobile.setAttribute("data-tier",r.submenuTier);if(r.submenuTier==0){g.barMobile.className+=" zul-bar-mobile-top-menu"}else{g.barMobile.className=g.barMobile.className.replace(/ *zul-bar-mobile-top-menu\b/g,"")}var i=g.mobileMenu.childNodes;var n=[];for(var o=0,s;s=i[o];o++){var a=parseInt(s.getAttribute("data-tier"))+t;if(a>0){s.setAttribute("data-tier","1");s.style.left=R(r.submenuTier);setTimeout(function(e){e.parentNode.removeChild(e)}.bind(null,s),251)}else{if(a==0){s.style.height="100%"}n.push(s);setTimeout(function(e,t){e.setAttribute("data-tier",t);e.style.left=R(r.submenuTier)}.bind(null,s,a),51)}}if(!e){N(i[i.length-2],"#"+i[i.length-2].id)}V(g.mobileMenu,250);setTimeout(function(e){for(var t=0,i;i=e[t];t++){if(t!=e.length-1){i.style.height="10px"}}P(e[e.length-1])}.bind(null,n),251);return true}function C(){if(!g.mobileMenu){return}var e=g.mobileMenu.childNodes;for(var t=0,i;i=e[t];t++){if(t>0){i.parentNode.removeChild(i)}else{i.setAttribute("data-tier","0");i.style.left=R(0)}}r.submenuTiers=[];r.submenuTier=0;g.barMobile.setAttribute("data-tier","0");g.barMobile.className+=" zul-bar-mobile-top-menu"}function B(){var e=r.submenuTiers[r.submenuTier*-1-1];if(e){g.mobileMenuBackTitleText.innerHTML=e}}function S(){j(window,"resize",i);S=function(){}}function z(){if(!r.mobileScrollSetUp){var e=function(e){if(r.mobileMenuShown){if(!document.getElementById("zul-bar-mobile").contains(e.target)){e.preventDefault()}}};j(document.body,"touchmove",e);j(document.body,"mousewheel",e);r.mobileScrollSetUp=true}}function L(){if(r.iScroll){r.iScroll.destroy();r.iScroll=null}}function P(e){L();r.iScroll=new IScroll(e,{mouseWheel:true,tap:true})}function I(){if(r.mobileMenuShown){_()}else{H()}}function H(){$("mobileMenuToggle");$("mobileMenuToggleCallback");if(typeof y.onShowMobileBarStart=="function"){y.onShowMobileBarStart()}var e=document.getElementById("zul-bar-mobile-menu-list-wrapper");e.style.height="100%";if(!g.fade){g.fade=document.createElement("div");g.fade.id=g.fade.className="zul-bar-fade";j(g.fade,"click",I);g.bar.appendChild(g.fade)}document.body.className+=" zul-mobile-show-menu";r.timers.mobileMenuToggle=setTimeout(function(){document.body.className+=" zul-mobile-animate-menu"},1);if(typeof y.onShowMobileBarEnd=="function"){r.timers.mobileMenuToggleCallback=setTimeout(function(){y.onShowMobileBarEnd()},152)}z();P(e);r.mobileMenuShown=true}function _(){$("mobileMenuToggle");$("mobileMenuToggleCallback");if(typeof y.onHideMobileBarStart=="function"){y.onHideMobileBarStart()}L();if(g.fade){g.fade.parentNode.removeChild(g.fade);g.fade=null}var e=document.body;e.className=e.className.replace(/ *zul-mobile-animate-menu\b/g,"");r.timers.mobileMenuToggle=setTimeout(function(){e.className=e.className.replace(/ *zul-mobile-animate-menu\b/g,"").replace(/ *zul-mobile-show-menu\b/g,"");N();C();if(typeof y.onHideMobileBarEnd=="function"){y.onHideMobileBarEnd()}},251);r.mobileMenuShown=false;C()}function A(e){var t=Z(e,"ul");N(t,"#"+t.id);e.className+=" zul-bar-mobile-menu-active"}function X(e,t){r.submenuTiers.push(e);A(this);setTimeout(function(){f(t)},1)}function Y(){w(false)}function D(){if(!y.state){return{}}var e={name:y.state};return O(y.states,e)}function W(){if(y.states&&y.states&&y.states.universal){return y.states.universal}return{}}function O(e,t){if(e&&typeof e[t.name]=="object"){for(var i in e[t.name]){if(e[t.name].hasOwnProperty(i)){t[i]=e[t.name][i]}}}return t}function R(e){return parseInt(e)*100+"%"}function U(e){return e.indexOf("%")>-1?F(e,y.user):e}function F(e,t){if(!t){return e}for(var i in t){if(!t.hasOwnProperty(i))continue;e=e.replace("%"+i.toUpperCase()+"%",t[i])}return e}function q(){var e=window.getComputedStyle(document.body,null).getPropertyValue("padding-left")||0;var t=window.getComputedStyle(document.body,null).getPropertyValue("padding-right")||0;return document.body.clientWidth+parseInt(e)+parseInt(t)}function j(e,t,i,n){if(e.addEventListener){e.addEventListener(t,i,n)}else if(e.attachEvent){e.attachEvent("on"+t,i)}}function V(e,t){var i=e.scrollTop/(t/15);var n=e.scrollLeft/(t/15);var o=setInterval(function(){if(e.scrollTop!=0||e.scrollLeft!=0){e.scrollTop=Math.max(0,e.scrollTop-i);e.scrollLeft=Math.max(0,e.scrollLeft-n)}else clearInterval(o)},15)}function Z(e,t){while(e.parentNode){if(e.parentNode.tagName==t.toUpperCase()){return e.parentNode}e=e.parentNode}return null}function K(e){if(!g.htmlEscaper){g.htmlEscaper=document.createElement("div")}g.htmlEscaper.innerHTML="";g.htmlEscaper.appendChild(document.createTextNode(e));return g.htmlEscaper.innerHTML}function $(e){clearTimeout(r.timers[e]);r.timers[e]=null}};
